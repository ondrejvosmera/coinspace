{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ondrejvosmera/Desktop/coinspace/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ondrejvosmera/Desktop/coinspace/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ondrejvosmera/Desktop/coinspace/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{CoinList}from'../config/api.js';import{Link}from'react-router-dom';import Coin from'./Coin.jsx';import Footer from'./Footer.jsx';import ReactLoading from'react-loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Main=function Main(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),coins=_useState2[0],setCoins=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var coinsPerPage=10;useEffect(function(){var fetchAllCoins=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(CoinList());case 3:response=_context.sent;if(!response.ok){_context.next=11;break;}_context.next=7;return response.json();case 7:data=_context.sent;setCoins(data);_context.next=12;break;case 11:console.error('Failed to fetch data');case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error('An error occurred while fetching data:',_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function fetchAllCoins(){return _ref.apply(this,arguments);};}();fetchAllCoins();},[]);var filteredCoins=coins.filter(function(coin){return coin.name.toLowerCase().includes(search.toLowerCase())||coin.symbol.toLowerCase().includes(search.toLowerCase());});var startIndex=(currentPage-1)*coinsPerPage;var endIndex=startIndex+coinsPerPage;var displayedCoins=filteredCoins.slice(startIndex,endIndex);var totalPages=Math.ceil(filteredCoins.length/coinsPerPage);var toTop=function toTop(){window.scrollTo({top:0,behavior:'smooth'});};var paginationButtons=Array.from({length:totalPages},function(_,index){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setCurrentPage(index+1);toTop();},className:index+1===currentPage?\"active-pagination\":\"\",children:index+1},index+1);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Search\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"coin-input\",onChange:function onChange(e){return setSearch(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coin-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"coin-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col1\",children:/*#__PURE__*/_jsx(\"p\",{children:\"#\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col2\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Coin\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col3\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Price\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col4\",children:/*#__PURE__*/_jsx(\"p\",{children:\"24h %\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col5\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Volume\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col6\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Market cap\"})})]}),!coins.length?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',marginTop:'50px'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Too many API calls... (ERROR 429)\"}),/*#__PURE__*/_jsx(ReactLoading,{type:\"bubbles\",color:\"white\",height:'100px',width:'100px'})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"coin-row\",children:displayedCoins.map(function(coin){return/*#__PURE__*/_jsx(Link,{to:\"\".concat(coin.id),children:/*#__PURE__*/_jsx(Coin,{rank:coin.market_cap_rank,image:coin.image,name:coin.name,symbol:coin.symbol,change:coin.price_change_percentage_24h,volume:coin.total_volume,price:coin.current_price,mcap:coin.market_cap},coin.id)},coin.id);})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:paginationButtons})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Main;","map":{"version":3,"names":["React","useState","useEffect","CoinList","Link","Coin","Footer","ReactLoading","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Main","_useState","_useState2","_slicedToArray","coins","setCoins","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","search","setSearch","coinsPerPage","fetchAllCoins","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","ok","json","console","error","t0","stop","apply","arguments","filteredCoins","filter","coin","name","toLowerCase","includes","symbol","startIndex","endIndex","displayedCoins","slice","totalPages","Math","ceil","length","toTop","window","scrollTo","top","behavior","paginationButtons","Array","from","_","index","onClick","className","children","type","onChange","e","target","value","style","display","flexDirection","justifyContent","alignItems","marginTop","color","height","width","map","to","concat","id","rank","market_cap_rank","image","change","price_change_percentage_24h","volume","total_volume","price","current_price","mcap","market_cap"],"sources":["/Users/ondrejvosmera/Desktop/coinspace/src/components/Main.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CoinList } from '../config/api.js';\nimport { Link } from 'react-router-dom';\nimport Coin from './Coin.jsx';\nimport Footer from './Footer.jsx';\nimport ReactLoading from 'react-loading';\n\nconst Main = () => {\n    const [coins, setCoins] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [search, setSearch] = useState('');\n\n    const coinsPerPage = 10;\n\n    useEffect(() => {\n        const fetchAllCoins = async () => {\n            try {\n                const response = await fetch(CoinList());\n                if (response.ok) {\n                    const data = await response.json();\n                    setCoins(data);\n                } else {\n                    console.error('Failed to fetch data');\n                }\n            } catch (error) {\n                console.error('An error occurred while fetching data:', error);\n            }\n        };\n\n        fetchAllCoins();\n    }, []);\n\n    const filteredCoins = coins.filter((coin) => (\n        coin.name.toLowerCase().includes(search.toLowerCase()) || coin.symbol.toLowerCase().includes(search.toLowerCase())\n    ));\n\n    const startIndex = (currentPage - 1) * coinsPerPage;\n    const endIndex = startIndex + coinsPerPage;\n\n    const displayedCoins = filteredCoins.slice(startIndex, endIndex);\n\n    const totalPages = Math.ceil(filteredCoins.length / coinsPerPage);\n\n    const toTop = () => {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      };\n\n    const paginationButtons = Array.from({ length: totalPages }, (_, index) => (\n        <button\n            key={index + 1}\n            onClick={() => {\n                setCurrentPage(index + 1);\n                toTop();\n            }}\n            className={index + 1 === currentPage ? \"active-pagination\" : \"\"}\n        >\n            {index + 1}\n        </button>\n    ));\n\n    return (\n        <>\n            <div className=\"main-container\">\n                <div className=\"search\">\n                    <h2>Search</h2>\n                    <form>\n                        <input\n                            type=\"text\"\n                            className='coin-input'\n                            onChange={(e) => setSearch(e.target.value)}\n                        />\n                    </form>\n                </div>\n                <div className=\"coin-list\">\n                    <div className=\"coin-header\">\n                        <div className=\"col1\"><p>#</p></div>\n                        <div className=\"col2\"><p>Coin</p></div>\n                        <div className=\"col3\"><p>Price</p></div>\n                        <div className=\"col4\"><p>24h %</p></div>\n                        <div className=\"col5\"><p>Volume</p></div>\n                        <div className=\"col6\"><p>Market cap</p></div>\n                    </div>\n                    {(!coins.length) ? (\n                        <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', marginTop: '50px' }}>\n                            <p>Too many API calls... (ERROR 429)</p>\n                            <ReactLoading type=\"bubbles\" color=\"white\" height={'100px'} width={'100px'} />\n                        </div>\n                    ) : (\n                    <>\n                    <div className=\"coin-row\">\n                        {displayedCoins.map(coin => (\n                            <Link to={`${coin.id}`} key={coin.id}>\n                                <Coin\n                                    key={coin.id}\n                                    rank={coin.market_cap_rank}\n                                    image={coin.image}\n                                    name={coin.name}\n                                    symbol={coin.symbol}\n                                    change={coin.price_change_percentage_24h}\n                                    volume={coin.total_volume}\n                                    price={coin.current_price}\n                                    mcap={coin.market_cap}\n                                />\n                            </Link>\n                        ))}\n                    </div>\n                    </>\n                )}\n                </div>\n                <div className=\"pagination\">\n                    {paginationButtons}\n                </div>\n            </div>\n            <Footer />\n        </>\n    );\n};\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}